<!-- Follow-up Suggestions Chips -->
<div class="demo-section">
    <h2 class="demo-title">23. Follow-up Suggestions</h2>
    <ui-suggestions 
        items='[{"label":"Summarize as bullet points"},{"label":"Add citations"},{"label":"Show key risks"},{"label":"Generate code sample"}]'
        inline="true"
        max="6">
    </ui-suggestions>

    <style>
    ui-suggestions { display:block; }
    ui-suggestions .sugg-wrap { display:flex; flex-wrap:wrap; gap: var(--size-2); }
    ui-suggestions .sugg { padding: 6px 10px; border-radius: 999px; background: var(--surface-2); border:1px solid var(--surface-3); cursor:pointer; transition: transform .15s var(--animation-smooth); }
    ui-suggestions .sugg:hover { transform: translateY(-1px); box-shadow: var(--shadow-soft); }
    ui-suggestions .sugg:active { transform: translateY(0); }
    </style>

    <script>
    function initSuggestions(){
        document.querySelectorAll('ui-suggestions').forEach(root => {
            const items = safeParseJSON(root.getAttribute('items')) || [];
            const max = parseInt(root.getAttribute('max')||'8',10);
            const inline = root.getAttribute('inline') === 'true';
            const shown = items.slice(0, max);
            let html = `<div class="sugg-wrap ${inline?'inline':''}">` + shown.map(i => `<button class="sugg" type="button" data-label="${escapeHtml(i.label||'')}">${escapeHtml(i.label||'')}</button>`).join('') + '</div>';
            root.innerHTML = html;
            root.querySelectorAll('.sugg').forEach(btn => {
                btn.addEventListener('click', () => {
                    const evt = new CustomEvent('suggestionSelected', { detail: { label: btn.getAttribute('data-label') }});
                    root.dispatchEvent(evt);
                });
            });
        });
    }
    function safeParseJSON(str){ try { return JSON.parse(str); } catch { return null; } }
    function escapeHtml(text){ const div=document.createElement('div'); div.textContent=text||''; return div.innerHTML; }
    document.addEventListener('DOMContentLoaded', initSuggestions);
    </script>
</div>


